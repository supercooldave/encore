module Raw
  
import Collections.Mutable.HashMap

  
-- parse trees for raw, uninterpreted JSON 

local trait Value
  require def raw() : String
end

class RawString : Value(str)
  val str : String
  def init(str : String) : unit
    this.str = str
  end
  
  def raw() : String
    this.str
  end
end

class RawNumber : Value(num)
  val num : String
  
  def init(num : String) : unit
    this.num = num
  end
  
  def raw() : String
    this.num
  end
end

-- curly braces wrapping comma separated name-value pairs
class RawObject : Value
  val hash : HashMap[Value]
  
  def init(hash : HashMap[Value]) : unit
    this.hash = hash
  end
  
  def raw() : String
    "not yet implemented"
  end
end


-- square brackets wrapping ...
class RawArray : Value
  val elems : [Value]
  def init(elems : [Value]) : unit
    this.elems = elems
  end
  
  def raw() : String
    "not yet implemented"
  end
end


class RawBool : Value
  val value : bool
  
  def init(value : bool) : unit
    this.value = value
  end
  
  def raw() : String
    "not yet implemented"
  end
end

class Null : Value
  def raw() : String
    "not yet implemented"
  end
end
